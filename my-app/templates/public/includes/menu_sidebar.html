<aside id="layout-menu" class="layout-menu menu-vertical menu bg-menu-theme"
       style="background: #2c3e50; min-height: 100vh; box-shadow: 2px 0 8px rgba(0,0,0,0.15);">
  <div class="app-brand demo py-3">
    <a href="{{ url_for('inicio') }}" class="app-brand-link d-flex align-items-center gap-2">
      <img src="{{ url_for('static', filename ='assets/img/logo.png') }}" alt="Logo" 
           style="width: 40px; height: 40px; object-fit: contain;" />
      <span class="fw-bold fs-5" style="color: #0094b9; text-shadow: 1px 1px 4px rgba(0,0,0,0.6);">
        Piso Mágico
      </span>
    </a>
  </div>
  <hr class="my-2" style="border-color: #ecf0f1; opacity: 0.15;">
  <ul class="menu-inner py-3">
    <li class="menu-item {% if request.path == '/interfaz-clave' %} active {% endif %}">
      <a href="/interfaz-clave" class="menu-link">
        <i class="menu-icon bi bi-person-fill-lock"></i>
        <span>Generar Clave</span>
      </a>
    </li>
    <li class="menu-item {% if request.path == '/reporte-accesos' %} active{%endif%}">
      <a href="/reporte-accesos" class="menu-link">
        <i class="menu-icon bi bi-file-lock-fill"></i>
        <span>Reporte Accesos</span>
      </a>
    </li>
    {% if dataLogin.rol == 1 %}
    <li class="menu-item {% if request.path == '/lista-de-areas' %} active{% endif %}">
      <a href="/lista-de-areas" class="menu-link">
        <i class="menu-icon bi bi-geo-alt-fill"></i>
        <span>Lista de Áreas</span>
      </a>
    </li>
    <li class="menu-item {% if request.path == '/lista-de-usuarios' %} active {% endif %}">
      <a href="/lista-de-usuarios" class="menu-link">
        <i class="menu-icon bi bi-people-fill"></i>
        <span>Lista de Usuarios</span>
      </a>
    </li>
    {% endif %}
    {% if dataLogin.rol == 3 %}
    <li class="menu-item {% if request.path == '/lista_ninos' %} active{% endif %}">
      <a href="/lista_ninos" class="menu-link">
        <i class="menu-icon bi bi-emoji-smile"></i>
        <span>Lista de Niños</span>
      </a>
    </li>
    {% endif %}
    <li class="menu-item {% if request.path == '/mi-perfil/{{dataLogin.id}}'%} active {% endif %}">
      <a href="/mi-perfil/{{dataLogin.id}}" class="menu-link">
        <i class="menu-icon bi bi-person-fill-gear"></i>
        <span>Mi Perfil</span>
      </a>
    </li>
    <li class="menu-item">
      <a href="{{ url_for('cerraSesion') }}" class="menu-link">
        <i class="menu-icon bi bi-box-arrow-right"></i>
        <span>Salir</span>
      </a>
    </li>
    <hr class="my-2" style="border-color: #ecf0f1; opacity: 0.15;">
    {% if dataLogin.rol == 1 or dataLogin.rol == 3 %}
    <li class="menu-item {% if request.path == '/resultados' %} active {% endif %}">
      <a href="/resultados" class="menu-link">
        <i class="menu-icon bi bi-bar-chart-line"></i>
        <span>Resultados Modo Libre</span>
      </a>
    </li>
    <li class="menu-item {% if request.path == '/resultados_activas' %} active {% endif %}">
      <a href="/resultados_activas" class="menu-link">
        <i class="menu-icon bi bi-bar-chart-line"></i>
        <span>Resultados Modo Juego</span>
      </a>
    </li>
    <li class="menu-item {% if request.path == '/sesiones-pasivas' %} active {% endif %}">
      <a href="/sesiones-pasivas" class="menu-link">
        <i class="menu-icon bi bi-lightning-charge"></i>
        <span>Sesiones Piso</span>
      </a>
    </li>
    <li class="menu-item {% if request.path == '/sesiones-activas' %} active {% endif %}">
      <a href="/sesiones-activas" class="menu-link">
        <i class="menu-icon bi bi-lightning-charge"></i>
        <span>Sesiones de Juego</span>
      </a>
    </li>
    <li class="menu-item {% if request.path == '/configurar_observaciones' %} active {% endif %}">
      <a href="{{ url_for('configurar_observaciones') }}" class="menu-link">
        <i class="menu-icon bi bi-pencil-square"></i>
        <span>Configurar Observaciones</span>
      </a>
    </li>
    {% endif %}
  </ul>

  <style>
    .menu-inner .menu-item.active > .menu-link {
      background: rgba(236, 240, 241, 0.15);
      border-radius: 8px;
      color: #3498db !important;
      font-weight: bold;
      box-shadow: 0 2px 8px rgba(52,152,219,0.15);
    }
    .menu-inner .menu-item.active > .menu-link .menu-icon,
    .menu-inner .menu-item.active > .menu-link span {
      color: #3498db !important;
      text-shadow: 0 1px 4px #fff;
    }
    .menu-inner .menu-link {
      color: #ecf0f1;
      text-shadow: 0 1px 3px rgba(0,0,0,0.6);
      transition: background 0.2s, color 0.2s;
      border-radius: 8px;
      margin-bottom: 2px;
      padding: 10px 16px;
      font-weight: 500;
    }
    .menu-inner .menu-link:hover {
      background: rgba(255, 255, 255, 0.08);
      color: #fff;
      text-shadow: 0 1px 6px rgba(0,0,0,0.5);
      text-decoration: none;
    }
    .menu-icon {
      font-size: 1.3rem;
      margin-right: 10px;
      vertical-align: middle;
      color: #ecf0f1;
      filter: drop-shadow(0 1px 4px rgba(0,0,0,0.4));
    }
    .app-brand-link {
      text-decoration: none;
    }
  </style>
</aside>